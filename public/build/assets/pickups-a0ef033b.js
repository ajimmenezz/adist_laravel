import{A as w,E as k}from"./Events-fb55d1f4.js";import{T as g}from"./Table-f78b8306.js";import{B as b}from"./Buttons-e9a12f53.js";import{M as h,V as _}from"./Validates-7d06d876.js";import{S as y}from"./Status-8bed89c8.js";import"./sweetalert2-374f0b4f.js";$(function(){const a=new k,c=new g,s=new b,n=new h("logistic-new-pickup-modal"),r=new _,i=new w,l=new y;p();function p(){a.post("/api/v1/Logistic/Pickup",{api_key,_method:"GET"},function(e){e.code==200&&c.init("pickups-table",e.data.Pickups,m(),d(),function(){c.sortByColumn("prices-lists-table",1,"asc")},function(){})})}function m(){return[{data:"Id",render:function(t,u,o){return`
                    <a class="fs-5 fw-bold" href="/Logistica/Recoleccion/`+t+`">
                        <i class="bi bi-eye"></i>
                    </a>`},className:"text-center"},{data:"Id"},{data:"BranchName"},{data:"UserName"},{data:"StatusName",render:function(t,u,o){return l.render(o.StatusId)},className:"text-center"},{data:"created_at",render:function(t,u,o){return moment(t).format("DD/MM/YYYY HH:mm")}}]}function d(){return[{targets:["_all"],className:"align-middle"}]}s.initClic("#logistic-new-pickup-form-button",function(e){$("#pickup-branch option:first").prop("selected",!0),n.show(),f()});function f(){r.form_reset("#new-pickup-form"),s.initClic("#logistic-new-pickup-button",function(e){r.form("#new-pickup-form")&&a.post("/api/v1/Logistic/Pickup",{api_key,_method:"PUT",branch:$("#pickup-branch").val()},function(t){t.code==200?i.success(t.message,4e3,function(){n.hide(),window.location.href="/Logistica/Recoleccion/"+t.data.Pickup.Id}):i.error(t.message)},function(){i.error("No se pudo crear el registro de recolección. Recargue la página e intente nuevamente.",4e3,function(){n.hide()})})})}});
