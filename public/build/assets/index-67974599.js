import{E as f}from"./Events-fb55d1f4.js";import{T as b}from"./Table-f78b8306.js";import"./sweetalert2-374f0b4f.js";$(function(){const i=new f,a=new b,u=document.querySelector("#generalDrawer .close-drawer-button"),s=new bootstrap.Offcanvas("#generalDrawer"),c=document.getElementById("generalDrawer"),n=document.getElementById("newDistributionForm");d();function d(){i.api("/api/v3/Warehouse/Distribution","GET",{},{Authorization:"Bearer "+api_key},function(t){a.init("distributions-table",t.data.distributions,l(),m(),function(){a.sortByColumn("distributions-table",3,"desc")},function(){})})}function l(){return[{data:"Project",render:{_:function(e,o,r){return'<a href="/Almacen/Distribucion/'+r.Id+'">'+e+"</a>"},sort:function(e,o,r){return e}}},{data:"Customer"},{data:"CreatedBy"},{data:"Created_at",render:{_:function(e,o,r){return moment(e).format("DD/MM/YYYY HH:mm")},sort:function(e,o,r){return moment(e).format("YYYYMMDDHHmm")}}}]}function m(){return[{targets:["_all"],className:"align-middle"}]}u.addEventListener("click",function(t){t.preventDefault(),s.hide()}),c.addEventListener("hide.bs.offcanvas",t=>{n.reset(),n.classList.remove("was-validated")}),n.addEventListener("submit",function(t){if(n.classList.add("was-validated"),t.preventDefault(),!n.checkValidity())t.stopPropagation();else{let e={customer:document.getElementById("customer").value,project:document.getElementById("project_name").value};i.api("/api/v3/Warehouse/Distribution","POST",e,{Authorization:"Bearer "+api_key},function(o){a.addRow("distributions-table",o.distribution),s.hide()})}})});
